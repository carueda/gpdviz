[![Build Status](https://travis-ci.org/carueda/gpdviz.svg?branch=master)](https://travis-ci.org/carueda/gpdviz)

# gpdviz

Web-based visualization of geo-located point data streams in real-time.

Implementation based on:

- [Akka-HTTP](http://doc.akka.io/docs/akka-http/current/scala/http/)
- [ScalaJS](https://www.scala-js.org/)
- [Leaflet](http://leafletjs.com/)
- [Highcharts](http://www.highcharts.com/)


## build and run

    $ npm install jsdom source-map-support
	$ source setenv.sh  # or use whatever mechanism to define the required env vars, see application.conf
	$ sbt
	> package   # to copy js resources to jvm's classpath needed for the webapp
	> ~gpdvizJVM/runMain gpdviz.server.GpdvizServer

Open http://localhost:5050/ss1/

On another terminal (this requires [httpie](https://httpie.org/)):

	$ data/ss1.demo.sh


![](https://github.com/carueda/gpdviz/blob/master/static/gpdviz2.gif)


## dist and run

	$ sbt assembly
	$ source setenv.sh  
	$ bin/run.sh

## model

Model still very ad hoc.

## API

Based on [OpenAPI 2.0](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md),
With spec generated by [swagger-akka-http](https://github.com/swagger-akka-http/swagger-akka-http).
 
**Swagger UI**

A Swagger UI instance can optionally be embedded as follows:

- copy [Swagger UI dist/*](https://github.com/swagger-api/swagger-ui/tree/master/dist) 
  contents to `jvm/src/main/resources/swaggerui/`;
- adjust the `url` entry in `swaggerui/index.html` to refer to the generated spec:
  `url: window.location + "/swagger.json"`
- rebuild / rerun

Under local development:
- generated spec at http://localhost:5050/api-docs/swagger.json
- Swagger UI at http://localhost:5050/api-docs



## history

[Original idea](https://github.com/carueda/gpdviz0).
