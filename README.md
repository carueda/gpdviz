[![Build Status](https://travis-ci.org/gpdviz/gpdviz.svg?branch=master)](https://travis-ci.org/gpdviz/gpdviz)

# gpdviz

Web-based visualization of geo-located point data streams in real-time.


## Running

Download the latest executable JAR `gpdviz-x.y.z.jar` from https://github.com/gpdviz/gpdviz/releases/.

You will only need a [Java runtime environment](https://www.java.com/) to execute it.

gpdviz expects a number of parameters for its regular execution. These parameters are to be
indicated in a local `gpdviz.conf` file on the current directory. A template of such file, with
a description of the various parameters, can be generated as follows:

```shell 
$ java -jar gpdviz-x.y.z.jar generate-conf
```

Edit `gpdviz.conf` as indicated.

Regular execution is indicated with the `run` argument: 

```shell 
$ java -jar gpdviz-x.y.z.jar run
```


## Development

gpdviz implementation is based on:

- [Akka-HTTP](http://doc.akka.io/docs/akka-http/current/scala/http/)
- [ScalaJS](https://www.scala-js.org/)
- [Leaflet](http://leafletjs.com/)
- [Highcharts](http://www.highcharts.com/)


### build and run

    $ npm install jsdom source-map-support
	$ source setenv.sh  # or use whatever mechanism to define the required env vars, see application.conf
	$ sbt
	> package   # to copy js resources to jvm's classpath needed for the webapp
	> ~gpdvizJVM/runMain gpdviz.server.GpdvizServer run

Open http://localhost:5050/ss1/

On another terminal (this requires [httpie](https://httpie.org/)):

	$ data/ss1.demo.sh


![](https://github.com/gpdviz/gpdviz/blob/master/static/gpdviz2.gif)


### dist

	$ sbt assembly

### model

Data model still very ad hoc.

### API

Based on [OpenAPI 2.0](https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md),
With spec generated by [swagger-akka-http](https://github.com/swagger-akka-http/swagger-akka-http).
 
**Swagger UI**

A Swagger UI instance can optionally be embedded as follows:

- copy [Swagger UI dist/*](https://github.com/swagger-api/swagger-ui/tree/master/dist) 
  contents to `jvm/src/main/resources/swaggerui/`;
- adjust the `url` entry in `swaggerui/index.html` to refer to the generated spec:
  `url: window.location + "/swagger.json"`
- rebuild / rerun

Under local development:
- generated spec at http://localhost:5050/api-docs/swagger.json
- Swagger UI at http://localhost:5050/api-docs



## history

[Original idea](https://github.com/carueda/gpdviz0).
